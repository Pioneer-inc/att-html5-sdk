<?xml version="1.0" encoding="utf-8" ?>
<project default="package" basedir=".">

  <property file="../../package.properties" />

  <property name="src-input"  value="../../../working/webcontent" />
  <property name="doc-input" value="../doc_src" />
  <property name="doc-output" value="../../../packaged.docs" />

  <target name="package">
    <antcall target="package-apps"></antcall>
  </target>

  <target name="package-apps">
    <!-- SMS -->
    <antcall target="package-sms-basic"></antcall>
    <antcall target="package-sms-voting"></antcall>   
    <!-- Device -->
    <antcall target="package-device-capabilities"></antcall>
    <!-- MMS -->
    <antcall target="package-mms-basic"></antcall>  
    <antcall target="package-mms-coupon"></antcall> 
    <antcall target="package-mms-gallery"></antcall>  
    <!-- Payment -->
    <antcall target="package-payment-notary"></antcall>
    <antcall target="package-payment-singlepay"></antcall>
    <antcall target="package-payment-subscription"></antcall>
    <!-- MOBO -->
    <antcall target="package-mobo-basic"></antcall>
    <!-- Speech to Text -->
    <antcall target="package-speech-basic"></antcall>
    <antcall target="package-speech-captured"></antcall>
    <antcall target="package-speech-fromtext"></antcall>
    <!-- MIM --> 
    <antcall target="package-mim-basic"></antcall>
    <!-- MIM -->
    <antcall target="package-iam"></antcall>
    
  </target> 

  <!-- SMS Basic -->
  <target name="package-sms-basic">
    <property name="folder" value="${src-input}/SMS/App1"/>
    <property name="doc-folder" value="${doc-output}/SMS/App1"/>
    <property name="doc-title" value="Sms Basic Application"/>
    <antcall target="generate-docs"/>
  </target>
  
  <!-- SMS Voting -->
  <target name="package-sms-voting">
    <property name="folder" value="${src-input}/SMS/App2"/>
    <property name="doc-folder" value="${doc-output}/SMS/App2"/>
    <property name="doc-title" value="Sms Voting Application"/>
    <antcall target="generate-docs"/>
  </target>
  
  <!-- Device Capabilities -->
  <target name="package-device-capabilities">
    <property name="folder" value="${src-input}/DC/App1"/>
    <property name="doc-folder" value="${doc-output}/DC/App1"/>
    <property name="doc-title" value="Device Capabilities Application"/>
    <antcall target="generate-docs"/>
  </target>
  
  <!-- MMS Basic -->
  <target name="package-mms-basic">
    <property name="folder" value="${src-input}/MMS/App1"/>
    <property name="doc-folder" value="${doc-output}/MMS/App1"/>
    <property name="doc-title" value="Mms Basic Application"/>
    <antcall target="generate-docs"/>
  </target>

  <!-- MMS Coupon -->
  <target name="package-mms-coupon">
    <property name="folder" value="${src-input}/MMS/App2"/>
    <property name="doc-folder" value="${doc-output}/MMS/App2"/>
    <property name="doc-title" value="Mms Coupon Application"/>
    <antcall target="generate-docs"/>
  </target>
  
  <!-- MMS Gallery -->
  <target name="package-mms-gallery">
    <property name="folder" value="${src-input}/MMS/App3"/>
    <property name="doc-folder" value="${doc-output}/MMS/App3"/>
    <property name="doc-title" value="Mms Gallery Application"/>
    <antcall target="generate-docs"/>
  </target> 
  
  <!-- Payment Notary -->
  <target name="package-payment-notary">
    <property name="folder" value="${src-input}/Payment/App1"/>
    <property name="doc-folder" value="${doc-output}/Payment/App1"/>
    <property name="doc-title" value="Notary Application"/>
    <antcall target="generate-docs"/>
  </target>
  
  <!-- Payment SinglePay -->
  <target name="package-payment-singlepay">
    <property name="folder" value="${src-input}/Payment/App2"/>
    <property name="doc-folder" value="${doc-output}/Payment/App2"/>
    <property name="doc-title" value="Single Payment Application"/>
    <antcall target="generate-docs"/>
  </target>
  
  <!-- Payment Subscription -->
  <target name="package-payment-subscription">
    <property name="folder" value="${src-input}/Payment/App3"/>
    <property name="doc-folder" value="${doc-output}/Payment/App3"/>
    <property name="doc-title" value="Subscription Application"/>
    <antcall target="generate-docs"/>
  </target>
  
  <!-- Speech to Text Basic -->
  <target name="package-speech-basic">
    <property name="folder" value="${src-input}/Speech/App1"/>
    <property name="doc-folder" value="${doc-output}/Speech/App1"/>
    <property name="doc-title" value="Speech To Text Basic Application"/>
    <antcall target="generate-docs"/>
  </target>

  <!-- Speech to Text Captured -->
  <target name="package-speech-captured">
    <property name="folder" value="${src-input}/Speech/App2"/>
    <property name="doc-folder" value="${doc-output}/Speech/App2"/>
    <property name="doc-title" value="Speech To Text Captured in Browser"/>
    <antcall target="generate-docs"/>
  </target>

  <!-- Speech to Text FromText -->
  <target name="package-speech-fromtext">
    <property name="folder" value="${src-input}/Speech/App3"/>
    <property name="doc-folder" value="${doc-output}/Speech/App3"/>
    <property name="doc-title" value="Text to Speech Example"/>
    <antcall target="generate-docs"/>
  </target>

  <!-- MOBO Basic -->
  <target name="package-mobo-basic">
    <property name="folder" value="${src-input}/IMMN/App1"/>
    <property name="doc-folder" value="${doc-output}/IMMN/App1"/>
    <property name="doc-title" value="Mobo Basic Application"/>
    <antcall target="generate-docs"/>
  </target>

  <!-- MIM Basic -->
  <target name="package-mim-basic">
    <property name="folder" value="${src-input}/IMMN/App2"/>
    <property name="doc-folder" value="${doc-output}/IMMN/App2"/>
    <property name="doc-title" value="Mim Basic Application"/>
    <antcall target="generate-docs"/>
  </target>

  <!-- IAM -->
  <target name="package-iam">
    <property name="folder" value="${src-input}/IMMN/App3"/>
    <property name="doc-folder" value="${doc-output}/IMMN/App3"/>
    <property name="doc-title" value="Iam Basic Application"/>
    <antcall target="generate-docs"/>
  </target>
  
  <target name="generate-docs">
    <copy todir="${doc-folder}/resources">
        <fileset dir="${doc-input}/resources"/>
    </copy>
    <exec executable="jsduck" dir="." >
      <arg value="${folder}/app" /> 
      <arg value="--output=${doc-folder}" /> 
      <arg value="--eg-iframe=${doc-input}/inline-eg.html" />
      <arg value="--images=${doc-input}" />
      <arg value="--title=${doc-title}"/>
      <arg value="--warnings=-all"/>
      <arg value="--categories=${doc-input}/class-categories.json"/>
      <arg value="--welcome=${doc-input}/welcome.html"/>
      <arg value="--tags=${doc-input}/custom-tags/beta.rb"/>
    </exec>
  </target>
</project>  
